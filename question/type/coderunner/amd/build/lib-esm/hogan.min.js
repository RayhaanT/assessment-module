function _typeof(a){"@babel/helpers - typeof";if("function"==typeof Symbol&&"symbol"==typeof Symbol.iterator){_typeof=function(a){return typeof a}}else{_typeof=function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a}}return _typeof(a)}var Hogan={};(function(a){a.Template=function(a,b,c,d){a=a||{};this.r=a.code||this.r;this.c=c;this.options=d||{};this.text=b||"";this.partials=a.partials||{};this.subs=a.subs||{};this.buf=""};a.Template.prototype={r:function r(){return""},v:function(a){a=d(a);return j.test(a)?a.replace(e,"&amp;").replace(f,"&lt;").replace(g,"&gt;").replace(h,"&#39;").replace(i,"&quot;"):a},t:d,render:function(a,b,c){return this.ri([a],b||{},c)},ri:function ri(a,b,c){return this.r(a,b,c)},ep:function ep(a,b){var d=this.partials[a],e=b[d.name];if(d.instance&&d.base==e){return d.instance}if("string"==typeof e){if(!this.c){throw new Error("No compiler available.")}e=this.c.compile(e,this.options)}if(!e){return null}this.partials[a].base=e;if(d.subs){if(!b.stackText)b.stackText={};for(key in d.subs){if(!b.stackText[key]){b.stackText[key]=this.activeSub!==void 0&&b.stackText[this.activeSub]?b.stackText[this.activeSub]:this.text}}e=c(e,d.subs,d.partials,this.stackSubs,this.stackPartials,b.stackText)}this.partials[a].instance=e;return e},rp:function rp(a,b,c,d){var e=this.ep(a,c);if(!e){return""}return e.ri(b,c,d)},rs:function rs(a,b,c){var d=a[a.length-1];if(!k(d)){c(a,b,this);return}for(var e=0;e<d.length;e++){a.push(d[e]);c(a,b,this);a.pop()}},s:function s(a,b,c,d,e,f,g){var h;if(k(a)&&0===a.length){return!1}if("function"==typeof a){a=this.ms(a,b,c,d,e,f,g)}h=!!a;if(!d&&h&&b){b.push("object"==_typeof(a)?a:b[b.length-1])}return h},d:function d(a,c,d,e){var f,g=a.split("."),h=this.f(g[0],c,d,e),j=this.options.modelGet,l=null;if("."===a&&k(c[c.length-2])){h=c[c.length-1]}else{for(var m=1;m<g.length;m++){f=b(g[m],h,j);if(f!==void 0){l=h;h=f}else{h=""}}}if(e&&!h){return!1}if(!e&&"function"==typeof h){c.push(l);h=this.mv(h,c,d);c.pop()}return h},f:function f(a,c,d,e){for(var f=!1,g=null,h=!1,j=this.options.modelGet,k=c.length-1;0<=k;k--){g=c[k];f=b(a,g,j);if(f!==void 0){h=!0;break}}if(!h){return e?!1:""}if(!e&&"function"==typeof f){f=this.mv(f,c,d)}return f},ls:function ls(a,b,c,e,f){var g=this.options.delimiters;this.options.delimiters=f;this.b(this.ct(d(a.call(b,e)),b,c));this.options.delimiters=g;return!1},ct:function ct(a,b,c){if(this.options.disableLambda){throw new Error("Lambda features disabled.")}return this.c.compile(a,this.options).render(b,c)},b:function b(a){this.buf+=a},fl:function fl(){var a=this.buf;this.buf="";return a},ms:function ms(a,b,c,d,e,f,g){var h,i=b[b.length-1],j=a.call(i);if("function"==typeof j){if(d){return!0}else{h=this.activeSub&&this.subsText&&this.subsText[this.activeSub]?this.subsText[this.activeSub]:this.text;return this.ls(j,i,c,h.substring(e,f),g)}}return j},mv:function mv(a,b,c){var e=b[b.length-1],f=a.call(e);if("function"==typeof f){return this.ct(d(f.call(e)),e,c)}return f},sub:function sub(a,b,c,d){var e=this.subs[a];if(e){this.activeSub=a;e(b,c,this,d);this.activeSub=!1}}};function b(a,b,c){var d;if(b&&"object"==_typeof(b)){if(b[a]!==void 0){d=b[a]}else if(c&&b.get&&"function"==typeof b.get){d=b.get(a)}}return d}function c(a,b,c,d,e,f){function g(){}g.prototype=a;function h(){}h.prototype=a.subs;var i,j=new g;j.subs=new h;j.subsText={};j.buf="";d=d||{};j.stackSubs=d;j.subsText=f;for(i in b){if(!d[i])d[i]=b[i]}for(i in d){j.subs[i]=d[i]}e=e||{};j.stackPartials=e;for(i in c){if(!e[i])e[i]=c[i]}for(i in e){j.partials[i]=e[i]}return j}var e=/&/g,f=/</g,g=/>/g,h=/\'/g,i=/\"/g,j=/[&<>\"\']/;function d(a){return(null===a||a===void 0?"":a)+""}var k=Array.isArray||function(b){return"[object Array]"===Object.prototype.toString.call(b)}})("undefined"!=typeof exports?exports:Hogan);(function(a){a.tags={"#":1,"^":2,"<":3,$:4,"/":5,"!":6,">":7,"=":8,_v:9,"{":10,"&":11,_t:12};a.scan=function(e,f){var l=e.length,m=0,n=null,o=null,p="",q=[],r=!1,s=0,t=0,u="{{",v="}}";function g(){if(0<p.length){q.push({tag:"_t",text:new String(p)});p=""}}function h(){for(var b=!0,c=t;c<q.length;c++){b=a.tags[q[c].tag]<a.tags._v||"_t"==q[c].tag&&null===q[c].text.match(/\S/);if(!b){return!1}}return b}function j(a,b){g();if(a&&h()){for(var c=t,d;c<q.length;c++){if(q[c].text){if((d=q[c+1])&&">"==d.tag){d.indent=q[c].text.toString()}q.splice(c,1)}}}else if(!b){q.push({tag:"\n"})}r=!1;t=q.length}function k(a,b){var d="="+v,e=a.indexOf(d,b),f=c(a.substring(a.indexOf("=",b)+1,e)).split(" ");u=f[0];v=f[f.length-1];return e+d.length-1}if(f){f=f.split(" ");u=f[0];v=f[1]}for(s=0;s<l;s++){if(m==0){if(d(u,e,s)){--s;g();m=1}else{if("\n"==e.charAt(s)){j(r)}else{p+=e.charAt(s)}}}else if(m==1){s+=u.length-1;o=a.tags[e.charAt(s+1)];n=o?e.charAt(s+1):"_v";if("="==n){s=k(e,s);m=0}else{if(o){s++}m=2}r=s}else{if(d(v,e,s)){q.push({tag:n,n:c(p),otag:u,ctag:v,i:"/"==n?r-u.length:s+v.length});p="";s+=v.length-1;m=0;if("{"==n){if("}}"==v){s++}else{b(q[q.length-1])}}}else{p+=e.charAt(s)}}}j(r,!0);return q};function b(a){if("}"===a.n.substr(a.n.length-1)){a.n=a.n.substring(0,a.n.length-1)}}function c(a){if(a.trim){return a.trim()}return a.replace(/^\s*|\s*$/g,"")}function d(a,b,c){if(b.charAt(c)!=a.charAt(0)){return!1}for(var d=1,e=a.length;d<e;d++){if(b.charAt(c+d)!=a.charAt(d)){return!1}}return!0}var o={_t:!0,"\n":!0,$:!0,"/":!0};function e(b,c,d,h){var i=[],j=null,k=null,l=null;k=d[d.length-1];while(0<b.length){l=b.shift();if(k&&"<"==k.tag&&!(l.tag in o)){throw new Error("Illegal content in < super tag.")}if(a.tags[l.tag]<=a.tags.$||f(l,h)){d.push(l);l.nodes=e(b,l.tag,d,h)}else if("/"==l.tag){if(0===d.length){throw new Error("Closing tag without opener: /"+l.n)}j=d.pop();if(l.n!=j.n&&!g(l.n,j.n,h)){throw new Error("Nesting error: "+j.n+" vs. "+l.n)}j.end=l.i;return i}else if("\n"==l.tag){l.last=0==b.length||"\n"==b[0].tag}i.push(l)}if(0<d.length){throw new Error("missing closing tag: "+d.pop().n)}return i}function f(a,b){for(var c=0,d=b.length;c<d;c++){if(b[c].o==a.n){a.tag="#";return!0}}}function g(a,b,c){for(var d=0,e=c.length;d<e;d++){if(c[d].c==a&&c[d].o==b){return!0}}}function h(a){var b=[];for(var c in a){b.push("\""+j(c)+"\": function(c,p,t,i) {"+a[c]+"}")}return"{ "+b.join(",")+" }"}function i(a){var b=[];for(var c in a.partials){b.push("\""+j(c)+"\":{name:\""+j(a.partials[c].name)+"\", "+i(a.partials[c])+"}")}return"partials: {"+b.join(",")+"}, subs: "+h(a.subs)}a.stringify=function(b){return"{code: function (c,p,i) { "+a.wrapMain(b.code)+" },"+i(b)+"}"};var p=0;a.generate=function(b,c,d){p=0;var e={code:"",subs:{},partials:{}};a.walk(b,e);if(d.asString){return this.stringify(e,c,d)}return this.makeTemplate(e,c,d)};a.wrapMain=function(a){return"var t=this;t.b(i=i||\"\");"+a+"return t.fl();"};a.template=a.Template;a.makeTemplate=function(a,b,c){var d=this.makePartials(a);d.code=new Function("c","p","i",this.wrapMain(a.code));return new this.template(d,b,this,c)};a.makePartials=function(a){var b,c={subs:{},partials:a.partials,name:a.name};for(b in c.partials){c.partials[b]=this.makePartials(c.partials[b])}for(b in a.subs){c.subs[b]=new Function("c","p","t","i",a.subs[b])}return c};function j(a){return a.replace(/\\/g,"\\\\").replace(/\"/g,"\\\"").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\u2028/,"\\u2028").replace(/\u2029/,"\\u2029")}function k(a){return~a.indexOf(".")?"d":"f"}function l(a,b){var c="<"+(b.prefix||""),d=c+a.n+p++;b.partials[d]={name:a.n,partials:{}};b.code+="t.b(t.rp(\""+j(d)+"\",c,p,\""+(a.indent||"")+"\"));";return d}a.codegen={"#":function _(b,c){c.code+="if(t.s(t."+k(b.n)+"(\""+j(b.n)+"\",c,p,1),c,p,0,"+b.i+","+b.end+",\""+b.otag+" "+b.ctag+"\")){t.rs(c,p,function(c,p,t){";a.walk(b.nodes,c);c.code+="});c.pop();}"},"^":function _(b,c){c.code+="if(!t.s(t."+k(b.n)+"(\""+j(b.n)+"\",c,p,1),c,p,1,0,0,\"\")){";a.walk(b.nodes,c);c.code+="};"},">":l,"<":function _(b,c){var d={partials:{},code:"",subs:{},inPartial:!0};a.walk(b.nodes,d);var e=c.partials[l(b,c)];e.subs=d.subs;e.partials=d.partials},$:function $(b,c){var d={subs:{},code:"",partials:c.partials,prefix:b.n};a.walk(b.nodes,d);c.subs[b.n]=d.code;if(!c.inPartial){c.code+="t.sub(\""+j(b.n)+"\",c,p,i);"}},"\n":function _(a,b){b.code+=n("\"\\n\""+(a.last?"":" + i"))},_v:function _v(a,b){b.code+="t.b(t.v(t."+k(a.n)+"(\""+j(a.n)+"\",c,p,0)));"},_t:function _t(a,b){b.code+=n("\""+j(a.text)+"\"")},"{":m,"&":m};function m(a,b){b.code+="t.b(t.t(t."+k(a.n)+"(\""+j(a.n)+"\",c,p,0)));"}function n(a){return"t.b("+a+");"}a.walk=function(b,c){for(var d,e=0,f=b.length;e<f;e++){d=a.codegen[b[e].tag];d&&d(b[e],c)}return c};a.parse=function(a,b,c){c=c||{};return e(a,"",[],c.sectionTags||[])};a.cache={};a.cacheKey=function(a,b){return[a,!!b.asString,!!b.disableLambda,b.delimiters,!!b.modelGet].join("||")};a.compile=function(b,c){c=c||{};var d=a.cacheKey(b,c),e=this.cache[d];if(e){var f=e.partials;for(var g in f){delete f[g].instance}return e}e=this.generate(this.parse(this.scan(b,c.delimiters),b,c),b,c);return this.cache[d]=e}})("undefined"!=typeof exports?exports:Hogan);if("function"==typeof define&&define.amd){define ("qtype_coderunner/lib-esm/hogan",Hogan)}
//# sourceMappingURL=hogan.min.js.map
